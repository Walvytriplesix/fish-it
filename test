local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- Create GUI Window (mobile-friendly size, no tab dropdown, slightly transparent)
local Window = WindUI:CreateWindow({
    Title = "Walvy Community - Fish It",
    Icon = "rbxassetid://127851653377757",
    IconThemed = true,
    Author = "VERSION: FREEMIUM",
    Folder = "Walvy-Community",
    Size = UDim2.new(0, 380, 0, 260), -- ✅ Lebih kecil biar pas di Android
    Theme = "Dark" -- Bisa ganti "Light" kalau silau
})

local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

-- Create GUI Window (mobile-friendly size, no tab dropdown, slightly transparent)
local Window = WindUI:CreateWindow({
    Title = "Walvy Community - Fish It",
    Icon = "rbxassetid://127851653377757",
    IconThemed = true,
    Author = "VERSION: FREEMIUM",
    Folder = "Walvy-Community",
    Size = UDim2.new(0, 380, 0, 260), -- ✅ Lebih kecil biar pas di Android
    Theme = "Dark" -- Bisa ganti "Light" kalau silau
})

-- Info Tab
local InfoTab = Window:Tab({ Title = "Info", Icon = "info" })

InfoTab:Paragraph({
    Title = "Welcome to Walvy Community",
    Desc = "Version Game: Fish it.",
    Image = "rbxassetid://121989361864413",
    ImageSize = 30,
    Thumbnail = "rbxassetid://85693098195372",
    ThumbnailSize = 170
})

InfoTab:Button({
    Title = "Join Our Discord",
    Desc = "Click to copy our Discord invite link.",
    Callback = function()
        setclipboard("https://discord.gg/kWC8Nn7kne")
        WindUI:Notify({
            Title = "Discord",
            Content = "Discord invite link copied to clipboard!",
            Duration = 5
        })
    end
})

local changestatsTab = Window:Tab({ 
    Title = "Change Rod Stats", 
    Icon = "file-text" 
})

-- ===== Paragraph =====
changestatsTab:Paragraph({
    Title="Rod Modifier",
    Desc="Select a Rod to apply max stats."
})

local rodDisplayOrder = {
    "Starter Rod",
    "Lava Rod",
    "Luck Rod",
    "Carbon Rod",
    "Grass Rod",
    "Demascus Rod",
    "Ice Rod",
    "Lucky Rod",
    "Midnight Rod",
    "Steampunk Rod",
    "Chrome Rod",
    "Astral Rod",
    "Ares Rod",
    "Angler Rod"
}

-- Mapping display name ke modul asli (dengan !!!)
local rodKeyMap = {
    ["Starter Rod"] = "!!! Starter Rod",
    ["Lava Rod"] = "!!! Lava Rod",
    ["Luck Rod"] = "!!! Luck Rod",
    ["Carbon Rod"] = "!!! Carbon Rod",
    ["Grass Rod"] = "!!! Grass Rod",
    ["Demascus Rod"] = "!!! Demascus Rod",
    ["Ice Rod"] = "!!! Ice Rod",
    ["Lucky Rod"] = "!!! Lucky Rod",
    ["Midnight Rod"] = "!!! Midnight Rod",
    ["Steampunk Rod"] = "!!! Steampunk Rod",
    ["Chrome Rod"] = "!!! Chrome Rod",
    ["Astral Rod"] = "!!! Astral Rod",
    ["Ares Rod"] = "!!! Ares Rod",
    ["Angler Rod"] = "!!! Angler Rod"
}

-- Selected default
local selectedRod = rodDisplayOrder[1]

-- ===== Dropdown =====
changestatsTab:Dropdown({
    Title = "Select Rod",
    Values = rodDisplayOrder,
    Value = selectedRod,
    Callback = function(value)
        selectedRod = value
        WindUI:Notify({
            Title = "Rod Selected",
            Content = value,
            Duration = 3
        })
    end
})

-- ===== Tombol Apply Max Stats =====
changestatsTab:Button({
    Title = "Apply Max Stats",
    Callback = function()
        local moduleName = rodKeyMap[selectedRod] -- modul asli dengan !!!
        if moduleName then
            local success, err = pcall(function()
                local ReplicatedStorage = game:GetService("ReplicatedStorage")
                local rodModule = ReplicatedStorage.Items:FindFirstChild(moduleName)
                
                if rodModule and rodModule:IsA("ModuleScript") then
                    local rodData = require(rodModule)
                    
                    rodData.VisualClickPowerPercent = 0.99
rodData.ClickPower = 250
rodData.Resilience = 250
rodData.Windup = NumberRange.new(1.5, 2.5) -- animasi tetap normal
rodData.MaxWeight = 660 -- cukup buat semua ikan

if rodData.RollData then
    rodData.RollData.BaseLuck = 100
    if rodData.RollData.Frequency then
        rodData.RollData.Frequency.Golden = 10
        rodData.RollData.Frequency.Rainbow = 5
    end
end
                    rodData.VisualClickPowerPercent = 0.99
                    rodData.ClickPower = 250
                    rodData.Resilience = 250
                    rodData.Windup = NumberRange.new(1.5, 2.5)
                    rodData.MaxWeight = 660

                    if rodData.RollData then
                        rodData.RollData.BaseLuck = 560
                        if rodData.RollData.Frequency then
                            rodData.RollData.Frequency.Golden = 2
                            rodData.RollData.Frequency.Rainbow = 0
                        end
                    end
                else
                    warn("Module "..moduleName.." tidak ditemukan!")
                end
            end)

            if success then
                WindUI:Notify({
                    Title = "Rod Modifier",
                    Content = selectedRod.." max stats applied!",
                    Duration = 3
                })
            else
                WindUI:Notify({
                    Title = "Rod Modifier Error",
                    Content = tostring(err),
                    Duration = 5
                })
            end
        end
    end
})})

-- Select first tab on GUI open
Window:SelectTab(1)
